import{d as V,e as O}from"./CnIjZLjT.js";import{_ as F,E as R,a as W}from"./CsLrc2DW.js";import{E as T,_ as j}from"./FERpfRVZ.js";import{_ as q}from"./elb1F2JA.js";import{_ as H}from"./B8eITrND.js";import K from"./0iLKBNNG.js";import"./CKs3uGID.js";import{d as I,f as G,j as U,z as h,u as L,i as c,o as n,w as r,b,a as e,c as _,g as $,F as E,e as v,n as l,t as A,h as P,x as J,y as Q,s as X,r as B,K as Y,k as z}from"./Lrk-fiIZ.js";import"./BFvOPq3J.js";import"./CmheKdq9.js";import"./DJ3PbMs2.js";import Z from"./BAA6OEle.js";import x from"./D23gcLAl.js";import ee from"./T37S9_tf.js";import te from"./BCi3ZUpx.js";import ae from"./CXDDfPq9.js";import{u as ne,a as se}from"./BIsdNxsz.js";const oe=I({__name:"EventCard",props:{withDetails:{type:Boolean},isAccountMode:{type:Boolean},eventData:{}},emits:["signUp"],setup(y,{emit:m}){const s=m,{isMobile:p}=G(),u=U(!1),{gameData:i,isAbonWorks:k,participants:g}=y.eventData,f=h(()=>u.value?T.CLOSE:T.DETAILS);function a(){u.value=!u.value}const t=L("EventCard");return(d,C)=>{const D=K,w=F,o=j,S=q,N=H;return n(),c(N,{orientation:"column",class:l(e(t)({account:d.isAccountMode}))},{subContent:r(()=>[d.isAccountMode?$("",!0):(n(),_("div",{key:0,class:l(e(t)("topContainer"))},[v("div",{class:l(e(t)("masterDataBlock"))},[b(D,{label:"UI",shape:"circle"}),v("div",{class:l(e(t)("masterName"))},A(e(i).master),3)],2),v("div",{class:l(e(t)("playersAmount"))},[v("span",null,A(`${e(g).length}/${e(i).maxPlayersAmount}`),1),b(w,{type:e(W).USERS,size:e(p)?e(R).S:e(R).M},null,8,["type","size"])],2)],2))]),content:r(()=>[b(S,{data:d.eventData,"is-account-mode":d.isAccountMode,"with-abon":e(k)&&!d.isAccountMode},{default:r(()=>[d.withDetails?(n(),_(E,{key:0},[e(u)?(n(),_("div",{key:0,class:l(e(t)("detailsBlock"))},[v("div",null,A(e(i).description),1),v("div",{class:l(e(t)("playersBlock"))},[(n(!0),_(E,null,P(e(g),M=>(n(),c(D,{key:M,label:"UI"}))),128))],2)],2)):$("",!0),v("div",{class:l(e(t)("buttonsBlock"))},[b(o,{type:e(T).ENTER_EVENT,onClick:C[0]||(C[0]=M=>s("signUp"))},null,8,["type"]),b(o,{type:e(f),"omit-icon":"",onClick:a},null,8,["type"]),e(u)?(n(),c(o,{key:0,type:e(T).SHARE},null,8,["type"])):$("",!0)],2)],64)):$("",!0)]),_:1},8,["data","is-account-mode","with-abon"])]),_:1},8,["class"])}}}),le=I({__name:"RzdTabs",props:J({tabs:{}},{tab:{required:!0},tabModifiers:{}}),emits:["update:tab"],setup(y){const m=Q(y,"tab");return(s,p)=>{const u=ae,i=te,k=ee,g=x,f=Z;return n(),c(f,{value:m.value,"onUpdate:value":p[0]||(p[0]=a=>m.value=a)},{default:r(()=>[b(i,null,{default:r(()=>[(n(!0),_(E,null,P(s.tabs,({label:a,id:t})=>(n(),c(u,{key:t,value:t},{default:r(()=>[X(A(a),1)]),_:2},1032,["value"]))),128))]),_:1}),b(g,null,{default:r(()=>[B(s.$slots,"tabsCommon"),(n(!0),_(E,null,P(s.tabs,({id:a})=>(n(),c(k,{key:a,value:a},{default:r(()=>[B(s.$slots,`tab-${a}`,{key:a}),B(s.$slots,"tab")]),_:2},1032,["value"]))),128)),B(s.$slots,"default")]),_:3})]),_:3},8,["value"])}}}),De=I({__name:"EventsList",props:{eventsData:{},eventsOnPageAmount:{},withCalendar:{type:Boolean},withPagination:{type:Boolean}},setup(y){const m=[{label:"Мафия",id:"mafia"},{label:"Игротеки",id:"tabletop"},{label:"Dungeons & Dragons",id:"dnd"},{label:"Путешествия",id:"travel"},{label:"Women",id:"womenEvents"},{label:"Покер",id:"poker"},{label:"Активности",id:"activity"},{label:"Вечеринки",id:"party"}],s=U(m[0].id),{selectedDate:p}=V(),u=h(()=>{const a=m.findIndex(({id:t})=>t===s.value);return y.eventsData[a]}),{page:i,itemsAmount:k,displayedItems:g}=ne(u,y.eventsOnPageAmount),f=L("EventsList");return Y(s,()=>{i.value=0}),(a,t)=>{const d=O,C=oe,D=le,w=se;return n(),_("div",{class:l(e(f)({calendar:a.withCalendar}))},[b(D,{tab:e(s),"onUpdate:tab":t[1]||(t[1]=o=>z(s)?s.value=o:null),tabs:m},{tabsCommon:r(()=>[a.withCalendar?(n(),c(d,{key:0,date:e(p),"onUpdate:date":t[0]||(t[0]=o=>z(p)?p.value=o:null),class:l(e(f)("calendar"))},null,8,["date","class"])):$("",!0)]),tab:r(()=>[v("div",{class:l(e(f)("eventsCardsContainer"))},[(n(!0),_(E,null,P(e(g),(o,S)=>(n(),c(C,{key:`eventData_${S}`,"event-data":o},null,8,["event-data"]))),128))],2)]),_:1},8,["tab"]),a.withPagination?(n(),c(w,{key:0,page:e(i),"onUpdate:page":t[2]||(t[2]=o=>z(i)?i.value=o:null),"amount-on-page":a.eventsOnPageAmount,"items-amount":e(k)},null,8,["page","amount-on-page","items-amount"])):$("",!0)],2)}}});export{De as _};
