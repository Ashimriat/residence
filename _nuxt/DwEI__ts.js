import{P as q,aG as H,aH as C,d as G,v as N,x as D,y as m,I as J,B as x,u as W,j as _,w as h,o as c,e as w,b as V,r as X,n as p,H as A,a as r,ae as Q,h as F,c as S,i as L,D as Y,q as R,t as z,F as M,E as Z,al as ee,J as te,aI as ne,aJ as O}from"./Dmc01CeK.js";import ae from"./C2EJ91Nj.js";import re from"./Ytw2bL7X.js";var ie=q.extend({name:"keyfilter-directive"}),se=H.extend({style:ie});function le(n){return fe(n)||de(n)||ue(n)||oe()}function oe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ue(n,e){if(n){if(typeof n=="string")return K(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?K(n,e):void 0}}function de(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function fe(n){if(Array.isArray(n))return K(n)}function K(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=Array(e);t<e;t++)a[t]=n[t];return a}var ce=se.extend("keyfilter",{beforeMount:function(e,t){var a=this.getTarget(e);if(a){if(a.$_pkeyfilterModifier=this.getModifiers(t),t.value!==void 0){var l,o;a.$_pkeyfilterPattern=((l=t.value)===null||l===void 0?void 0:l.pattern)||t.value,a.$_pkeyfilterValidateOnly=((o=t.value)===null||o===void 0?void 0:o.validateOnly)||!1}this.bindEvents(a),a.setAttribute("data-pd-keyfilter",!0)}},updated:function(e,t){var a=this.getTarget(e);if(a){if(a.$_pkeyfilterModifier=this.getModifiers(t),this.unbindEvents(e,t),t.value!==void 0){var l,o;a.$_pkeyfilterPattern=((l=t.value)===null||l===void 0?void 0:l.pattern)||t.value,a.$_pkeyfilterValidateOnly=((o=t.value)===null||o===void 0?void 0:o.validateOnly)||!1}this.bindEvents(a)}},unmounted:function(e,t){this.unbindEvents(e,t)},DEFAULT_PATTERNS:{pint:/[\d]/,int:/[\d-]/,pnum:/[\d.]/,money:/[\d.\s,]/,num:/[\d-.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_.-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/},methods:{getTarget:function(e){return C(e,"data-pc-name","inputtext")||C(e,"data-pc-name","textarea")?e:null},getModifiers:function(e){return e.modifiers&&Object.keys(e.modifiers).length?Object.keys(e.modifiers)[Object.keys.length-1]:""},getRegex:function(e){return e.$_pkeyfilterPattern?e.$_pkeyfilterPattern:e.$_pkeyfilterModifier?this.DEFAULT_PATTERNS[e.$_pkeyfilterModifier]:/./},bindEvents:function(e){var t=this;e.$_keyfilterKeydownEvent=function(a){return t.onKeydown(a,e)},e.$_keyfilterPasteEvent=function(a){return t.onPaste(a,e)},e.addEventListener("keypress",e.$_keyfilterKeydownEvent),e.addEventListener("paste",e.$_keyfilterPasteEvent)},unbindEvents:function(e){e.removeEventListener("keypress",e.$_keyfilterKeydownEvent),e.removeEventListener("paste",e.$_keyfilterPasteEvent),e.$_keyfilterKeydownEvent=null,e.$_keyfilterPasteEvent=null},onKeydown:function(e,t){if(!(e.ctrlKey||e.altKey||e.metaKey||e.key==="Tab")){var a=this.getRegex(t);if(a!==""){var l="".concat(e.key);t.$_pkeyfilterValidateOnly&&(l="".concat(e.target.value).concat(e.key)),a.test(l)||e.preventDefault()}}},onPaste:function(e,t){var a=this.getRegex(t);if(a!==""){var l=e.clipboardData.getData("text"),o="";le(l).forEach(function(d){if(t.$_pkeyfilterValidateOnly?o+=d:o=d,!a.test(o))return e.preventDefault(),!1})}}}});const pe=["onDblclick"],U=1,T=5,ve=7,be=G({__name:"RzdPagination",props:N({itemsAmount:{}},{page:{required:!0},pageModifiers:{},amountOnPage:{required:!0},amountOnPageModifiers:{}}),emits:["update:page","update:amountOnPage"],setup(n){const e=D(n,"page"),t=m({get:()=>e.value+1,set:u=>{e.value=u-1}}),a=D(n,"amountOnPage"),l=J("input"),o=x(""),d=m(()=>Math.ceil(n.itemsAmount/a.value)),k=m(()=>{let u=t.value-U,i=t.value+U;const v=d.value<=ve,$=t.value<=T-1,E=d.value-t.value<=T-2;$&&(u=1,i=T),E&&(i=d.value,u=d.value-T+1),v&&(u=1,i=d.value);const y=[];(!$||E)&&y.push("start"),E||y.push("end"),v&&(y.length=0);const s=[];for(let g=u;g<=i;g+=1)s.push(g);return{withFirst:y[0]==="start",withLast:y.at(-1)==="end",pages:s,skipPos:y}}),P=x("");async function I(u){var i;P.value=u,await ne(),(i=l.value)!=null&&i.length&&l.value[0].$el.focus()}function b(u){u!==t.value&&(t.value=u)}function j(){const u=+o.value;B(),!(!u||u>d.value||u===t.value)&&(t.value=u)}function B(){P.value="",o.value=""}const f=W("RzdPagination");return(u,i)=>{const v=Q,$=re,E=ae,y=ce;return c(),_(E,{rows:a.value,"onUpdate:rows":i[5]||(i[5]=s=>a.value=s),"total-records":u.itemsAmount,"always-show":!1},{container:h(()=>[w("div",{class:p(r(f)())},[V(v,{class:p(["p-paginator-prev",r(f)("controlButton",["prev"],{disabled:r(t)===1})]),onClick:i[0]||(i[0]=A(s=>b(r(t)-1),["prevent","stop"]))},{default:h(()=>i[6]||(i[6]=[w("span",{class:"pi pi-angle-left"},null,-1)])),_:1},8,["class"]),X(u.$slots,"pages",{activePage:e.value,onPageClick:b},()=>[w("div",{class:p(r(f)("container"))},[r(k).withFirst?(c(),_(v,{key:0,class:p(["p-paginator-page",r(f)("pageButton",["first"],{selected:r(t)===1})]),label:"1",onClick:i[1]||(i[1]=A(s=>b(1),["prevent","stop"]))},null,8,["class"])):F("",!0),(c(!0),S(M,null,L(r(k).pages,(s,g)=>(c(),_(v,{class:p(["p-paginator-page",r(f)("pageButton",{selected:r(t)===s})]),key:s,style:Y(`--order: ${g+2}`),label:`${s}`,onClick:A(ye=>b(s),["prevent","stop"])},{default:h(()=>[R(z(s),1)]),_:2},1032,["class","style","label","onClick"]))),128)),r(k).withLast?(c(),_(v,{key:1,class:p(["p-paginator-page",r(f)("pageButton",["last"],{selected:r(t)===r(d)})]),label:`${r(d)}`,onClick:i[2]||(i[2]=A(s=>b(r(d)),["prevent","stop"]))},{default:h(()=>[R(z(r(d)),1)]),_:1},8,["label","class"])):F("",!0),(c(!0),S(M,null,L(r(k).skipPos,s=>(c(),S(M,{key:s},[r(P)!==s?(c(),S("span",{key:0,class:p(r(f)("skipper",[s])),onDblclick:g=>I(s)},"...",42,pe)):Z((c(),_($,{key:1,ref_for:!0,ref:"input",modelValue:r(o),"onUpdate:modelValue":i[3]||(i[3]=g=>te(o)?o.value=g:null),class:p(r(f)("skipperInput",[s])),onBlur:B,onKeydown:ee(j,["enter"])},null,8,["modelValue","class"])),[[y,void 0,void 0,{int:!0}]])],64))),128))],2)]),V(v,{class:p(["p-paginator-next",r(f)("controlButton",["next"],{disabled:r(t)===r(d)})]),onClick:i[4]||(i[4]=A(s=>b(r(t)+1),["prevent","stop"]))},{default:h(()=>i[7]||(i[7]=[w("span",{class:"pi pi-angle-right"},null,-1)])),_:1},8,["class"])],2)]),_:3},8,["rows","total-records"])}}});function Pe(n,e,t){const a=x(0),l=x(e),o=m(()=>O(t??a)),d=m(()=>o.value*l.value),k=m(()=>d.value+l.value),P=m(()=>O(n).length),I=m(()=>O(n).slice(d.value,k.value));return{page:t??a,itemsPerPage:l,itemsAmount:P,displayedItems:I}}export{ce as K,be as _,Pe as u};
